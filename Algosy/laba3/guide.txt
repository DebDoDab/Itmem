struct node {
	int x;
	node *next;

	node (int x_, node* next_) {
		x = x_;
		next = next_;
	}
}

node *f(node *cur) {
	unordered_set<int> o;
	node *head = node(-1, cur);

	node *prev = head;
	for (; cur; cur = cur -> next) {
		if (o.count(cur -> x)) {
			prev -> next = cur -> next;
			cur = prev;
		} else {
			o.insert(cur -> x);
		}
	}

	return head -> next;
}